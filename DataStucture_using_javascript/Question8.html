<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
	//8.	Write a Program to Implement Circular Queue.
	class CircularQueue {
			constructor(size) {

				this.queue = [];
				this.read = 0;
				this.write = 0;
				this.max = size - 1;
				this.count = 0;

				while (size > 0) {
					this.queue.push(null);
					size--;
				}
			}
			checkEmpty() {
				var count = 0;
				for (let i = 0; i <= this.max; i++) {
					if (this.queue[i] == null) {
						count++;
					}
				}
				if (count == this.max + 1) {
					return true;
				}
				return false;
			}
			checkFull() {
				var count = 0;
				for (let i = 0; i <= this.max; i++) {
					if (this.queue[i] == null) {
						count++;
					}
				}
				if (count > 0) {
					return false;
				}
				return true;
			}

			print() {
				return this.queue;
			}

			enqueue(item) {
				// Only change code below this line
				if (!this.checkFull()) {
					this.queue[this.write] = item;
					this.write = (this.write + 1) % (this.max + 1);
				}
			}
			// Only change code above this line

			dequeue() {
				// Only change code below this line
				if (!this.checkEmpty()) {
					let val = this.queue[this.read];
					this.queue[this.read] = null;
					this.read = (this.read + 1) % (this.max + 1);
					return val;
				}
				else return null;
				// Only change code above this line
			}
		}
		var cq = new CircularQueue(4);
		console.log(cq.checkEmpty());
		console.log(cq.checkFull());
		cq.enqueue(10);
		cq.enqueue(20);
		cq.enqueue(30);
		cq.enqueue(40);
		console.log("print queue here:", cq.print());
		console.log("dequeue done here:")
		cq.dequeue();
		console.log("print dequeue here:", cq.print());
		//console.clear()
		cq.enqueue(50);
		console.log("print enqueue new element:", cq.print());

		// output
		// 		true
		// false
		// print queue here: (3) [10, 20, 30]
		// dequeue done here:
		// print dequeue here: (3) [null, 20, 30]

    </script>
</body>
</html>
